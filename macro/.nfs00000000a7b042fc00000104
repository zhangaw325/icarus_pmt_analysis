{
  TFile* f = new TFile("gain_curves_result_run217.root");
  //TGraphErrors* g = (TGraphErrors*)f->Get("gain_bd0_ch0");
  //g->Draw("AP");
/*
  TF1* fGain = new TF1("fGain","[0]*TMath::Power(x,[1])",1,2000);
  fGain->SetParNames("a","b");
  g->Fit("fGain","QR","",1150, 1270);
  for(int i=0; i<5;i++){
    double a=fGain->GetParameter(0);
    double b=fGain->GetParameter(1);
    fGain->SetParameters(a,b);
    g->Fit("fGain","QR","",1150, 1270);
  }
*/

  TCanvas* c = (TCanvas*)f->Get("cChargeDis_bd0_ch7");
  TH1D* h = (TH1D*)c->GetPrimitive("hLowQ_run217_board0_ch7");
  TCanvas* c1 = new TCanvas();
  h->Draw();
  TF1* func = (TF1*)c->GetPrimitive("idealfunc2");
  f->Draw("same");
}
